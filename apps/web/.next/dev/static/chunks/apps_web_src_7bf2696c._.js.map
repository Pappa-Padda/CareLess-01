{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jpret/Documents/Lancea/CareLess-01/apps/web/src/lib/NextAppDirEmotionCacheProvider.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { useServerInsertedHTML } from 'next/navigation';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport type { EmotionCache, Options as OptionsOfCreateCache } from '@emotion/cache';\n\nexport type NextAppDirEmotionCacheProviderProps = {\n  /** This is the options passed to createCache() from 'import createCache from \"@emotion/cache\"' */\n  options: Omit<OptionsOfCreateCache, 'insertionPoint'>;\n  /** By default <CacheProvider /> from 'import { CacheProvider } from \"@emotion/react\"' */\n  CacheProvider?: (props: {\n    value: EmotionCache;\n    children: React.ReactNode;\n  }) => React.JSX.Element | null;\n  children: React.ReactNode;\n};\n\n// Adapted from https://github.com/garronej/tss-react/blob/main/src/next/appDir.tsx\nexport default function NextAppDirEmotionCacheProvider(\n  props: NextAppDirEmotionCacheProviderProps\n) {\n  const { options, CacheProvider: CacheProviderProp = CacheProvider, children } = props;\n\n  const [{ cache, flush }] = React.useState(() => {\n    const cache = createCache(options);\n    cache.compat = true;\n    const prevInsert = cache.insert;\n    let inserted: string[] = [];\n    cache.insert = (...args) => {\n      const serialized = args[1];\n      if (cache.inserted[serialized.name] === undefined) {\n        inserted.push(serialized.name);\n      }\n      return prevInsert(...args);\n    };\n    const flush = () => {\n      const prevInserted = inserted;\n      inserted = [];\n      return prevInserted;\n    };\n    return { cache, flush };\n  });\n\n  useServerInsertedHTML(() => {\n    const names = flush();\n    if (names.length === 0) {\n      return null;\n    }\n    let styles = '';\n    for (const name of names) {\n      styles += cache.inserted[name];\n    }\n    return (\n      <style\n        key={cache.key}\n        data-emotion={`${cache.key} ${names.join(' ')}`}\n        dangerouslySetInnerHTML={{\n          __html: styles,\n        }}\n      />\n    );\n  });\n\n  return <CacheProviderProp value={cache}>{children}</CacheProviderProp>;\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAmBe,SAAS,+BACtB,KAA0C;;IAE1C,MAAM,EAAE,OAAO,EAAE,eAAe,oBAAoB,uQAAa,EAAE,QAAQ,EAAE,GAAG;IAEhF,MAAM,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,GAAG,yKAAc;mDAAC;YACxC,MAAM,QAAQ,IAAA,6MAAW,EAAC;YAC1B,MAAM,MAAM,GAAG;YACf,MAAM,aAAa,MAAM,MAAM;YAC/B,IAAI,WAAqB,EAAE;YAC3B,MAAM,MAAM;2DAAG,CAAC,GAAG;oBACjB,MAAM,aAAa,IAAI,CAAC,EAAE;oBAC1B,IAAI,MAAM,QAAQ,CAAC,WAAW,IAAI,CAAC,KAAK,WAAW;wBACjD,SAAS,IAAI,CAAC,WAAW,IAAI;oBAC/B;oBACA,OAAO,cAAc;gBACvB;;YACA,MAAM;iEAAQ;oBACZ,MAAM,eAAe;oBACrB,WAAW,EAAE;oBACb,OAAO;gBACT;;YACA,OAAO;gBAAE;gBAAO;YAAM;QACxB;;IAEA,IAAA,8JAAqB;gEAAC;YACpB,MAAM,QAAQ;YACd,IAAI,MAAM,MAAM,KAAK,GAAG;gBACtB,OAAO;YACT;YACA,IAAI,SAAS;YACb,KAAK,MAAM,QAAQ,MAAO;gBACxB,UAAU,MAAM,QAAQ,CAAC,KAAK;YAChC;YACA,qBACE,6LAAC;gBAEC,gBAAc,GAAG,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,MAAM;gBAC/C,yBAAyB;oBACvB,QAAQ;gBACV;eAJK,MAAM,GAAG;;;;;QAOpB;;IAEA,qBAAO,6LAAC;QAAkB,OAAO;kBAAQ;;;;;;AAC3C;GA9CwB;;QAyBtB,8JAAqB;;;KAzBC"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jpret/Documents/Lancea/CareLess-01/apps/web/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n  role: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  login: (user: User) => void;\n  logout: () => Promise<void>;\n  refreshUser: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  const fetchUser = async () => {\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/me`, {\n        credentials: 'include',\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setUser(data.user);\n      } else {\n        setUser(null);\n      }\n    } catch (error) {\n      console.error('Failed to fetch user', error);\n      setUser(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  const login = (userData: User) => {\n    setUser(userData);\n  };\n\n  const logout = async () => {\n    try {\n      await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/signout`, {\n        method: 'POST',\n        credentials: 'include',\n      });\n      setUser(null);\n      router.push('/');\n    } catch (error) {\n      console.error('Failed to logout', error);\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, logout, refreshUser: fetchUser }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;AA4BiC;;AA3BjC;AACA;;;AAFA;;;AAmBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,6DAAmC,QAAQ,CAAC,EAAE;gBACpE,aAAa;YACf;YACA,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,IAAI;YACnB,OAAO;gBACL,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,QAAQ;IACV;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,MAAM,6DAAmC,aAAa,CAAC,EAAE;gBAC7D,QAAQ;gBACR,aAAa;YACf;YACA,QAAQ;YACR,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oBAAoB;QACpC;IACF;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAO;YAAQ,aAAa;QAAU;kBACjF;;;;;;AAGP;GAlDa;;QAGI,kJAAS;;;KAHb;AAoDN,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}}]
}